{"ast":null,"code":"/* eslint-disable no-plusplus */\n/* eslint-disable prefer-template */\n/* eslint-disable prefer-arrow-callback */\n/* eslint-disable no-var */\n/* eslint-disable vars-on-top */\n/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-extraneous-dependencies */\n/**\n * This is copied from @vespaiach/axios-fetch-adapter, which exposes an ESM\n * module without setting the \"type\" field in package.json.\n */\nimport axios from \"axios\";\nimport { EventStreamContentType, getLines, getBytes, getMessages } from \"./event-source-parse.js\";\n/**\n * In order to avoid import issues with axios 1.x, copying here the internal\n * utility functions that we used to import directly from axios.\n */\n// Copied from axios/lib/core/settle.js\nfunction settle(resolve, reject, response) {\n  const {\n    validateStatus\n  } = response.config;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(`Request failed with status code ${response.status}`, response.config, null, response.request, response));\n  }\n}\n// Copied from axios/lib/helpers/isAbsoluteURL.js\nfunction isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n// Copied from axios/lib/helpers/combineURLs.js\nfunction combineURLs(baseURL, relativeURL) {\n  return relativeURL ? baseURL.replace(/\\/+$/, \"\") + \"/\" + relativeURL.replace(/^\\/+/, \"\") : baseURL;\n}\n// Copied from axios/lib/helpers/buildURL.js\nfunction encode(val) {\n  return encodeURIComponent(val).replace(/%3A/gi, \":\").replace(/%24/g, \"$\").replace(/%2C/gi, \",\").replace(/%20/g, \"+\").replace(/%5B/gi, \"[\").replace(/%5D/gi, \"]\");\n}\nfunction buildURL(url, params, paramsSerializer) {\n  if (!params) {\n    return url;\n  }\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n    forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === \"undefined\") {\n        return;\n      }\n      if (isArray(val)) {\n        key = `${key}[]`;\n      } else {\n        val = [val];\n      }\n      forEach(val, function parseValue(v) {\n        if (isDate(v)) {\n          v = v.toISOString();\n        } else if (isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(`${encode(key)}=${encode(v)}`);\n      });\n    });\n    serializedParams = parts.join(\"&\");\n  }\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf(\"#\");\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + serializedParams;\n  }\n  return url;\n}\n// Copied from axios/lib/core/buildFullPath.js\nfunction buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n// Copied from axios/lib/utils.js\nfunction isUndefined(val) {\n  return typeof val === \"undefined\";\n}\nfunction isObject(val) {\n  return val !== null && typeof val === \"object\";\n}\nfunction isDate(val) {\n  return toString.call(val) === \"[object Date]\";\n}\nfunction isURLSearchParams(val) {\n  return toString.call(val) === \"[object URLSearchParams]\";\n}\nfunction isArray(val) {\n  return Array.isArray(val);\n}\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === \"undefined\") {\n    return;\n  }\n  // Force an array if not already something iterable\n  if (typeof obj !== \"object\") {\n    obj = [obj];\n  }\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\nfunction isFormData(val) {\n  return toString.call(val) === \"[object FormData]\";\n}\n// TODO this needs to be fixed to run in newer browser-like environments\n// https://github.com/vespaiach/axios-fetch-adapter/issues/20#issue-1396365322\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== \"undefined\" && (\n  // eslint-disable-next-line no-undef\n  navigator.product === \"ReactNative\" ||\n  // eslint-disable-next-line no-undef\n  navigator.product === \"NativeScript\" ||\n  // eslint-disable-next-line no-undef\n  navigator.product === \"NS\")) {\n    return false;\n  }\n  return typeof window !== \"undefined\" && typeof document !== \"undefined\";\n}\n/**\n * - Create a request object\n * - Get response body\n * - Check if timeout\n */\nexport default async function fetchAdapter(config) {\n  const request = createRequest(config);\n  const data = await getResponse(request, config);\n  return new Promise((resolve, reject) => {\n    if (data instanceof Error) {\n      reject(data);\n    } else {\n      // eslint-disable-next-line no-unused-expressions\n      Object.prototype.toString.call(config.settle) === \"[object Function]\" ? config.settle(resolve, reject, data) : settle(resolve, reject, data);\n    }\n  });\n}\n/**\n * Fetch API stage two is to get response body. This funtion tries to retrieve\n * response body based on response's type\n */\nasync function getResponse(request, config) {\n  let stageOne;\n  try {\n    stageOne = await fetch(request);\n  } catch (e) {\n    return createError(\"Network Error\", config, \"ERR_NETWORK\", request);\n  }\n  const response = {\n    ok: stageOne.ok,\n    status: stageOne.status,\n    statusText: stageOne.statusText,\n    headers: new Headers(stageOne.headers),\n    config,\n    request\n  };\n  if (stageOne.status >= 200 && stageOne.status !== 204) {\n    if (config.responseType === \"stream\") {\n      const contentType = stageOne.headers.get(\"content-type\");\n      if (!contentType?.startsWith(EventStreamContentType)) {\n        throw new Error(`Expected content-type to be ${EventStreamContentType}, Actual: ${contentType}`);\n      }\n      await getBytes(stageOne.body, getLines(getMessages(config.onmessage)));\n    } else {\n      switch (config.responseType) {\n        case \"arraybuffer\":\n          response.data = await stageOne.arrayBuffer();\n          break;\n        case \"blob\":\n          response.data = await stageOne.blob();\n          break;\n        case \"json\":\n          response.data = await stageOne.json();\n          break;\n        case \"formData\":\n          response.data = await stageOne.formData();\n          break;\n        default:\n          response.data = await stageOne.text();\n          break;\n      }\n    }\n  }\n  return response;\n}\n/**\n * This function will create a Request object based on configuration's axios\n */\nfunction createRequest(config) {\n  const headers = new Headers(config.headers);\n  // HTTP basic authentication\n  if (config.auth) {\n    const username = config.auth.username || \"\";\n    const password = config.auth.password ? decodeURI(encodeURIComponent(config.auth.password)) : \"\";\n    headers.set(\"Authorization\", `Basic ${btoa(`${username}:${password}`)}`);\n  }\n  const method = config.method.toUpperCase();\n  const options = {\n    headers,\n    method\n  };\n  if (method !== \"GET\" && method !== \"HEAD\") {\n    options.body = config.data;\n    // In these cases the browser will automatically set the correct Content-Type,\n    // but only if that header hasn't been set yet. So that's why we're deleting it.\n    if (isFormData(options.body) && isStandardBrowserEnv()) {\n      headers.delete(\"Content-Type\");\n    }\n  }\n  if (config.mode) {\n    options.mode = config.mode;\n  }\n  if (config.cache) {\n    options.cache = config.cache;\n  }\n  if (config.integrity) {\n    options.integrity = config.integrity;\n  }\n  if (config.redirect) {\n    options.redirect = config.redirect;\n  }\n  if (config.referrer) {\n    options.referrer = config.referrer;\n  }\n  if (config.timeout && config.timeout > 0) {\n    options.signal = AbortSignal.timeout(config.timeout);\n  }\n  if (config.signal) {\n    // this overrides the timeout signal if both are set\n    options.signal = config.signal;\n  }\n  // This config is similar to XHR’s withCredentials flag, but with three available values instead of two.\n  // So if withCredentials is not set, default value 'same-origin' will be used\n  if (!isUndefined(config.withCredentials)) {\n    options.credentials = config.withCredentials ? \"include\" : \"omit\";\n  }\n  // for streaming\n  if (config.responseType === \"stream\") {\n    options.headers.set(\"Accept\", EventStreamContentType);\n  }\n  const fullPath = buildFullPath(config.baseURL, config.url);\n  const url = buildURL(fullPath, config.params, config.paramsSerializer);\n  // Expected browser to throw error if there is any wrong configuration value\n  return new Request(url, options);\n}\n/**\n * Note:\n *\n *   From version >= 0.27.0, createError function is replaced by AxiosError class.\n *   So I copy the old createError function here for backward compatible.\n *\n *\n *\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nfunction createError(message, config, code, request, response) {\n  if (axios.AxiosError && typeof axios.AxiosError === \"function\") {\n    return new axios.AxiosError(message, axios.AxiosError[code], config, request, response);\n  }\n  const error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n}\n/**\n *\n * Note:\n *\n *   This function is for backward compatible.\n *\n *\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nfunction enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  };\n  return error;\n}","map":{"version":3,"names":["axios","EventStreamContentType","getLines","getBytes","getMessages","settle","resolve","reject","response","validateStatus","config","status","createError","request","isAbsoluteURL","url","test","combineURLs","baseURL","relativeURL","replace","encode","val","encodeURIComponent","buildURL","params","paramsSerializer","serializedParams","isURLSearchParams","toString","parts","forEach","serialize","key","isArray","parseValue","v","isDate","toISOString","isObject","JSON","stringify","push","join","hashmarkIndex","indexOf","slice","buildFullPath","requestedURL","isUndefined","call","Array","obj","fn","i","l","length","Object","prototype","hasOwnProperty","isFormData","isStandardBrowserEnv","navigator","product","window","document","fetchAdapter","createRequest","data","getResponse","Promise","Error","stageOne","fetch","e","ok","statusText","headers","Headers","responseType","contentType","get","startsWith","body","onmessage","arrayBuffer","blob","json","formData","text","auth","username","password","decodeURI","set","btoa","method","toUpperCase","options","delete","mode","cache","integrity","redirect","referrer","timeout","signal","AbortSignal","withCredentials","credentials","fullPath","Request","message","code","AxiosError","error","enhanceError","isAxiosError","toJSON","name","description","number","fileName","lineNumber","columnNumber","stack"],"sources":["/Users/b/Code/langchainjs/test-exports-cra/node_modules/langchain/dist/util/axios-fetch-adapter.js"],"sourcesContent":["/* eslint-disable no-plusplus */\n/* eslint-disable prefer-template */\n/* eslint-disable prefer-arrow-callback */\n/* eslint-disable no-var */\n/* eslint-disable vars-on-top */\n/* eslint-disable no-param-reassign */\n/* eslint-disable import/no-extraneous-dependencies */\n/**\n * This is copied from @vespaiach/axios-fetch-adapter, which exposes an ESM\n * module without setting the \"type\" field in package.json.\n */\nimport axios from \"axios\";\nimport { EventStreamContentType, getLines, getBytes, getMessages, } from \"./event-source-parse.js\";\n/**\n * In order to avoid import issues with axios 1.x, copying here the internal\n * utility functions that we used to import directly from axios.\n */\n// Copied from axios/lib/core/settle.js\nfunction settle(resolve, reject, response) {\n    const { validateStatus } = response.config;\n    if (!response.status || !validateStatus || validateStatus(response.status)) {\n        resolve(response);\n    }\n    else {\n        reject(createError(`Request failed with status code ${response.status}`, response.config, null, response.request, response));\n    }\n}\n// Copied from axios/lib/helpers/isAbsoluteURL.js\nfunction isAbsoluteURL(url) {\n    // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n    // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n    // by any combination of letters, digits, plus, period, or hyphen.\n    return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n// Copied from axios/lib/helpers/combineURLs.js\nfunction combineURLs(baseURL, relativeURL) {\n    return relativeURL\n        ? baseURL.replace(/\\/+$/, \"\") + \"/\" + relativeURL.replace(/^\\/+/, \"\")\n        : baseURL;\n}\n// Copied from axios/lib/helpers/buildURL.js\nfunction encode(val) {\n    return encodeURIComponent(val)\n        .replace(/%3A/gi, \":\")\n        .replace(/%24/g, \"$\")\n        .replace(/%2C/gi, \",\")\n        .replace(/%20/g, \"+\")\n        .replace(/%5B/gi, \"[\")\n        .replace(/%5D/gi, \"]\");\n}\nfunction buildURL(url, params, paramsSerializer) {\n    if (!params) {\n        return url;\n    }\n    var serializedParams;\n    if (paramsSerializer) {\n        serializedParams = paramsSerializer(params);\n    }\n    else if (isURLSearchParams(params)) {\n        serializedParams = params.toString();\n    }\n    else {\n        var parts = [];\n        forEach(params, function serialize(val, key) {\n            if (val === null || typeof val === \"undefined\") {\n                return;\n            }\n            if (isArray(val)) {\n                key = `${key}[]`;\n            }\n            else {\n                val = [val];\n            }\n            forEach(val, function parseValue(v) {\n                if (isDate(v)) {\n                    v = v.toISOString();\n                }\n                else if (isObject(v)) {\n                    v = JSON.stringify(v);\n                }\n                parts.push(`${encode(key)}=${encode(v)}`);\n            });\n        });\n        serializedParams = parts.join(\"&\");\n    }\n    if (serializedParams) {\n        var hashmarkIndex = url.indexOf(\"#\");\n        if (hashmarkIndex !== -1) {\n            url = url.slice(0, hashmarkIndex);\n        }\n        url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + serializedParams;\n    }\n    return url;\n}\n// Copied from axios/lib/core/buildFullPath.js\nfunction buildFullPath(baseURL, requestedURL) {\n    if (baseURL && !isAbsoluteURL(requestedURL)) {\n        return combineURLs(baseURL, requestedURL);\n    }\n    return requestedURL;\n}\n// Copied from axios/lib/utils.js\nfunction isUndefined(val) {\n    return typeof val === \"undefined\";\n}\nfunction isObject(val) {\n    return val !== null && typeof val === \"object\";\n}\nfunction isDate(val) {\n    return toString.call(val) === \"[object Date]\";\n}\nfunction isURLSearchParams(val) {\n    return toString.call(val) === \"[object URLSearchParams]\";\n}\nfunction isArray(val) {\n    return Array.isArray(val);\n}\nfunction forEach(obj, fn) {\n    // Don't bother if no value provided\n    if (obj === null || typeof obj === \"undefined\") {\n        return;\n    }\n    // Force an array if not already something iterable\n    if (typeof obj !== \"object\") {\n        obj = [obj];\n    }\n    if (isArray(obj)) {\n        // Iterate over array values\n        for (var i = 0, l = obj.length; i < l; i++) {\n            fn.call(null, obj[i], i, obj);\n        }\n    }\n    else {\n        // Iterate over object keys\n        for (var key in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                fn.call(null, obj[key], key, obj);\n            }\n        }\n    }\n}\nfunction isFormData(val) {\n    return toString.call(val) === \"[object FormData]\";\n}\n// TODO this needs to be fixed to run in newer browser-like environments\n// https://github.com/vespaiach/axios-fetch-adapter/issues/20#issue-1396365322\nfunction isStandardBrowserEnv() {\n    if (typeof navigator !== \"undefined\" &&\n        // eslint-disable-next-line no-undef\n        (navigator.product === \"ReactNative\" ||\n            // eslint-disable-next-line no-undef\n            navigator.product === \"NativeScript\" ||\n            // eslint-disable-next-line no-undef\n            navigator.product === \"NS\")) {\n        return false;\n    }\n    return typeof window !== \"undefined\" && typeof document !== \"undefined\";\n}\n/**\n * - Create a request object\n * - Get response body\n * - Check if timeout\n */\nexport default async function fetchAdapter(config) {\n    const request = createRequest(config);\n    const data = await getResponse(request, config);\n    return new Promise((resolve, reject) => {\n        if (data instanceof Error) {\n            reject(data);\n        }\n        else {\n            // eslint-disable-next-line no-unused-expressions\n            Object.prototype.toString.call(config.settle) === \"[object Function]\"\n                ? config.settle(resolve, reject, data)\n                : settle(resolve, reject, data);\n        }\n    });\n}\n/**\n * Fetch API stage two is to get response body. This funtion tries to retrieve\n * response body based on response's type\n */\nasync function getResponse(request, config) {\n    let stageOne;\n    try {\n        stageOne = await fetch(request);\n    }\n    catch (e) {\n        return createError(\"Network Error\", config, \"ERR_NETWORK\", request);\n    }\n    const response = {\n        ok: stageOne.ok,\n        status: stageOne.status,\n        statusText: stageOne.statusText,\n        headers: new Headers(stageOne.headers),\n        config,\n        request,\n    };\n    if (stageOne.status >= 200 && stageOne.status !== 204) {\n        if (config.responseType === \"stream\") {\n            const contentType = stageOne.headers.get(\"content-type\");\n            if (!contentType?.startsWith(EventStreamContentType)) {\n                throw new Error(`Expected content-type to be ${EventStreamContentType}, Actual: ${contentType}`);\n            }\n            await getBytes(stageOne.body, getLines(getMessages(config.onmessage)));\n        }\n        else {\n            switch (config.responseType) {\n                case \"arraybuffer\":\n                    response.data = await stageOne.arrayBuffer();\n                    break;\n                case \"blob\":\n                    response.data = await stageOne.blob();\n                    break;\n                case \"json\":\n                    response.data = await stageOne.json();\n                    break;\n                case \"formData\":\n                    response.data = await stageOne.formData();\n                    break;\n                default:\n                    response.data = await stageOne.text();\n                    break;\n            }\n        }\n    }\n    return response;\n}\n/**\n * This function will create a Request object based on configuration's axios\n */\nfunction createRequest(config) {\n    const headers = new Headers(config.headers);\n    // HTTP basic authentication\n    if (config.auth) {\n        const username = config.auth.username || \"\";\n        const password = config.auth.password\n            ? decodeURI(encodeURIComponent(config.auth.password))\n            : \"\";\n        headers.set(\"Authorization\", `Basic ${btoa(`${username}:${password}`)}`);\n    }\n    const method = config.method.toUpperCase();\n    const options = {\n        headers,\n        method,\n    };\n    if (method !== \"GET\" && method !== \"HEAD\") {\n        options.body = config.data;\n        // In these cases the browser will automatically set the correct Content-Type,\n        // but only if that header hasn't been set yet. So that's why we're deleting it.\n        if (isFormData(options.body) && isStandardBrowserEnv()) {\n            headers.delete(\"Content-Type\");\n        }\n    }\n    if (config.mode) {\n        options.mode = config.mode;\n    }\n    if (config.cache) {\n        options.cache = config.cache;\n    }\n    if (config.integrity) {\n        options.integrity = config.integrity;\n    }\n    if (config.redirect) {\n        options.redirect = config.redirect;\n    }\n    if (config.referrer) {\n        options.referrer = config.referrer;\n    }\n    if (config.timeout && config.timeout > 0) {\n        options.signal = AbortSignal.timeout(config.timeout);\n    }\n    if (config.signal) {\n        // this overrides the timeout signal if both are set\n        options.signal = config.signal;\n    }\n    // This config is similar to XHR’s withCredentials flag, but with three available values instead of two.\n    // So if withCredentials is not set, default value 'same-origin' will be used\n    if (!isUndefined(config.withCredentials)) {\n        options.credentials = config.withCredentials ? \"include\" : \"omit\";\n    }\n    // for streaming\n    if (config.responseType === \"stream\") {\n        options.headers.set(\"Accept\", EventStreamContentType);\n    }\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    const url = buildURL(fullPath, config.params, config.paramsSerializer);\n    // Expected browser to throw error if there is any wrong configuration value\n    return new Request(url, options);\n}\n/**\n * Note:\n *\n *   From version >= 0.27.0, createError function is replaced by AxiosError class.\n *   So I copy the old createError function here for backward compatible.\n *\n *\n *\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nfunction createError(message, config, code, request, response) {\n    if (axios.AxiosError && typeof axios.AxiosError === \"function\") {\n        return new axios.AxiosError(message, axios.AxiosError[code], config, request, response);\n    }\n    const error = new Error(message);\n    return enhanceError(error, config, code, request, response);\n}\n/**\n *\n * Note:\n *\n *   This function is for backward compatible.\n *\n *\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nfunction enhanceError(error, config, code, request, response) {\n    error.config = config;\n    if (code) {\n        error.code = code;\n    }\n    error.request = request;\n    error.response = response;\n    error.isAxiosError = true;\n    error.toJSON = function toJSON() {\n        return {\n            // Standard\n            message: this.message,\n            name: this.name,\n            // Microsoft\n            description: this.description,\n            number: this.number,\n            // Mozilla\n            fileName: this.fileName,\n            lineNumber: this.lineNumber,\n            columnNumber: this.columnNumber,\n            stack: this.stack,\n            // Axios\n            config: this.config,\n            code: this.code,\n            status: this.response && this.response.status ? this.response.status : null,\n        };\n    };\n    return error;\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,sBAAsB,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,WAAW,QAAS,yBAAyB;AAClG;AACA;AACA;AACA;AACA;AACA,SAASC,MAAMA,CAACC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,EAAE;EACvC,MAAM;IAAEC;EAAe,CAAC,GAAGD,QAAQ,CAACE,MAAM;EAC1C,IAAI,CAACF,QAAQ,CAACG,MAAM,IAAI,CAACF,cAAc,IAAIA,cAAc,CAACD,QAAQ,CAACG,MAAM,CAAC,EAAE;IACxEL,OAAO,CAACE,QAAQ,CAAC;EACrB,CAAC,MACI;IACDD,MAAM,CAACK,WAAW,CAAE,mCAAkCJ,QAAQ,CAACG,MAAO,EAAC,EAAEH,QAAQ,CAACE,MAAM,EAAE,IAAI,EAAEF,QAAQ,CAACK,OAAO,EAAEL,QAAQ,CAAC,CAAC;EAChI;AACJ;AACA;AACA,SAASM,aAAaA,CAACC,GAAG,EAAE;EACxB;EACA;EACA;EACA,OAAO,6BAA6B,CAACC,IAAI,CAACD,GAAG,CAAC;AAClD;AACA;AACA,SAASE,WAAWA,CAACC,OAAO,EAAEC,WAAW,EAAE;EACvC,OAAOA,WAAW,GACZD,OAAO,CAACE,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,GAAG,GAAGD,WAAW,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,GACnEF,OAAO;AACjB;AACA;AACA,SAASG,MAAMA,CAACC,GAAG,EAAE;EACjB,OAAOC,kBAAkB,CAACD,GAAG,CAAC,CACzBF,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CACrBA,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CACpBA,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CACrBA,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CACpBA,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CACrBA,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC;AAC9B;AACA,SAASI,QAAQA,CAACT,GAAG,EAAEU,MAAM,EAAEC,gBAAgB,EAAE;EAC7C,IAAI,CAACD,MAAM,EAAE;IACT,OAAOV,GAAG;EACd;EACA,IAAIY,gBAAgB;EACpB,IAAID,gBAAgB,EAAE;IAClBC,gBAAgB,GAAGD,gBAAgB,CAACD,MAAM,CAAC;EAC/C,CAAC,MACI,IAAIG,iBAAiB,CAACH,MAAM,CAAC,EAAE;IAChCE,gBAAgB,GAAGF,MAAM,CAACI,QAAQ,EAAE;EACxC,CAAC,MACI;IACD,IAAIC,KAAK,GAAG,EAAE;IACdC,OAAO,CAACN,MAAM,EAAE,SAASO,SAASA,CAACV,GAAG,EAAEW,GAAG,EAAE;MACzC,IAAIX,GAAG,KAAK,IAAI,IAAI,OAAOA,GAAG,KAAK,WAAW,EAAE;QAC5C;MACJ;MACA,IAAIY,OAAO,CAACZ,GAAG,CAAC,EAAE;QACdW,GAAG,GAAI,GAAEA,GAAI,IAAG;MACpB,CAAC,MACI;QACDX,GAAG,GAAG,CAACA,GAAG,CAAC;MACf;MACAS,OAAO,CAACT,GAAG,EAAE,SAASa,UAAUA,CAACC,CAAC,EAAE;QAChC,IAAIC,MAAM,CAACD,CAAC,CAAC,EAAE;UACXA,CAAC,GAAGA,CAAC,CAACE,WAAW,EAAE;QACvB,CAAC,MACI,IAAIC,QAAQ,CAACH,CAAC,CAAC,EAAE;UAClBA,CAAC,GAAGI,IAAI,CAACC,SAAS,CAACL,CAAC,CAAC;QACzB;QACAN,KAAK,CAACY,IAAI,CAAE,GAAErB,MAAM,CAACY,GAAG,CAAE,IAAGZ,MAAM,CAACe,CAAC,CAAE,EAAC,CAAC;MAC7C,CAAC,CAAC;IACN,CAAC,CAAC;IACFT,gBAAgB,GAAGG,KAAK,CAACa,IAAI,CAAC,GAAG,CAAC;EACtC;EACA,IAAIhB,gBAAgB,EAAE;IAClB,IAAIiB,aAAa,GAAG7B,GAAG,CAAC8B,OAAO,CAAC,GAAG,CAAC;IACpC,IAAID,aAAa,KAAK,CAAC,CAAC,EAAE;MACtB7B,GAAG,GAAGA,GAAG,CAAC+B,KAAK,CAAC,CAAC,EAAEF,aAAa,CAAC;IACrC;IACA7B,GAAG,IAAI,CAACA,GAAG,CAAC8B,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,IAAIlB,gBAAgB;EACnE;EACA,OAAOZ,GAAG;AACd;AACA;AACA,SAASgC,aAAaA,CAAC7B,OAAO,EAAE8B,YAAY,EAAE;EAC1C,IAAI9B,OAAO,IAAI,CAACJ,aAAa,CAACkC,YAAY,CAAC,EAAE;IACzC,OAAO/B,WAAW,CAACC,OAAO,EAAE8B,YAAY,CAAC;EAC7C;EACA,OAAOA,YAAY;AACvB;AACA;AACA,SAASC,WAAWA,CAAC3B,GAAG,EAAE;EACtB,OAAO,OAAOA,GAAG,KAAK,WAAW;AACrC;AACA,SAASiB,QAAQA,CAACjB,GAAG,EAAE;EACnB,OAAOA,GAAG,KAAK,IAAI,IAAI,OAAOA,GAAG,KAAK,QAAQ;AAClD;AACA,SAASe,MAAMA,CAACf,GAAG,EAAE;EACjB,OAAOO,QAAQ,CAACqB,IAAI,CAAC5B,GAAG,CAAC,KAAK,eAAe;AACjD;AACA,SAASM,iBAAiBA,CAACN,GAAG,EAAE;EAC5B,OAAOO,QAAQ,CAACqB,IAAI,CAAC5B,GAAG,CAAC,KAAK,0BAA0B;AAC5D;AACA,SAASY,OAAOA,CAACZ,GAAG,EAAE;EAClB,OAAO6B,KAAK,CAACjB,OAAO,CAACZ,GAAG,CAAC;AAC7B;AACA,SAASS,OAAOA,CAACqB,GAAG,EAAEC,EAAE,EAAE;EACtB;EACA,IAAID,GAAG,KAAK,IAAI,IAAI,OAAOA,GAAG,KAAK,WAAW,EAAE;IAC5C;EACJ;EACA;EACA,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;IACzBA,GAAG,GAAG,CAACA,GAAG,CAAC;EACf;EACA,IAAIlB,OAAO,CAACkB,GAAG,CAAC,EAAE;IACd;IACA,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGH,GAAG,CAACI,MAAM,EAAEF,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;MACxCD,EAAE,CAACH,IAAI,CAAC,IAAI,EAAEE,GAAG,CAACE,CAAC,CAAC,EAAEA,CAAC,EAAEF,GAAG,CAAC;IACjC;EACJ,CAAC,MACI;IACD;IACA,KAAK,IAAInB,GAAG,IAAImB,GAAG,EAAE;MACjB,IAAIK,MAAM,CAACC,SAAS,CAACC,cAAc,CAACT,IAAI,CAACE,GAAG,EAAEnB,GAAG,CAAC,EAAE;QAChDoB,EAAE,CAACH,IAAI,CAAC,IAAI,EAAEE,GAAG,CAACnB,GAAG,CAAC,EAAEA,GAAG,EAAEmB,GAAG,CAAC;MACrC;IACJ;EACJ;AACJ;AACA,SAASQ,UAAUA,CAACtC,GAAG,EAAE;EACrB,OAAOO,QAAQ,CAACqB,IAAI,CAAC5B,GAAG,CAAC,KAAK,mBAAmB;AACrD;AACA;AACA;AACA,SAASuC,oBAAoBA,CAAA,EAAG;EAC5B,IAAI,OAAOC,SAAS,KAAK,WAAW;EAChC;EACCA,SAAS,CAACC,OAAO,KAAK,aAAa;EAChC;EACAD,SAAS,CAACC,OAAO,KAAK,cAAc;EACpC;EACAD,SAAS,CAACC,OAAO,KAAK,IAAI,CAAC,EAAE;IACjC,OAAO,KAAK;EAChB;EACA,OAAO,OAAOC,MAAM,KAAK,WAAW,IAAI,OAAOC,QAAQ,KAAK,WAAW;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAeC,YAAYA,CAACxD,MAAM,EAAE;EAC/C,MAAMG,OAAO,GAAGsD,aAAa,CAACzD,MAAM,CAAC;EACrC,MAAM0D,IAAI,GAAG,MAAMC,WAAW,CAACxD,OAAO,EAAEH,MAAM,CAAC;EAC/C,OAAO,IAAI4D,OAAO,CAAC,CAAChE,OAAO,EAAEC,MAAM,KAAK;IACpC,IAAI6D,IAAI,YAAYG,KAAK,EAAE;MACvBhE,MAAM,CAAC6D,IAAI,CAAC;IAChB,CAAC,MACI;MACD;MACAX,MAAM,CAACC,SAAS,CAAC7B,QAAQ,CAACqB,IAAI,CAACxC,MAAM,CAACL,MAAM,CAAC,KAAK,mBAAmB,GAC/DK,MAAM,CAACL,MAAM,CAACC,OAAO,EAAEC,MAAM,EAAE6D,IAAI,CAAC,GACpC/D,MAAM,CAACC,OAAO,EAAEC,MAAM,EAAE6D,IAAI,CAAC;IACvC;EACJ,CAAC,CAAC;AACN;AACA;AACA;AACA;AACA;AACA,eAAeC,WAAWA,CAACxD,OAAO,EAAEH,MAAM,EAAE;EACxC,IAAI8D,QAAQ;EACZ,IAAI;IACAA,QAAQ,GAAG,MAAMC,KAAK,CAAC5D,OAAO,CAAC;EACnC,CAAC,CACD,OAAO6D,CAAC,EAAE;IACN,OAAO9D,WAAW,CAAC,eAAe,EAAEF,MAAM,EAAE,aAAa,EAAEG,OAAO,CAAC;EACvE;EACA,MAAML,QAAQ,GAAG;IACbmE,EAAE,EAAEH,QAAQ,CAACG,EAAE;IACfhE,MAAM,EAAE6D,QAAQ,CAAC7D,MAAM;IACvBiE,UAAU,EAAEJ,QAAQ,CAACI,UAAU;IAC/BC,OAAO,EAAE,IAAIC,OAAO,CAACN,QAAQ,CAACK,OAAO,CAAC;IACtCnE,MAAM;IACNG;EACJ,CAAC;EACD,IAAI2D,QAAQ,CAAC7D,MAAM,IAAI,GAAG,IAAI6D,QAAQ,CAAC7D,MAAM,KAAK,GAAG,EAAE;IACnD,IAAID,MAAM,CAACqE,YAAY,KAAK,QAAQ,EAAE;MAClC,MAAMC,WAAW,GAAGR,QAAQ,CAACK,OAAO,CAACI,GAAG,CAAC,cAAc,CAAC;MACxD,IAAI,CAACD,WAAW,EAAEE,UAAU,CAACjF,sBAAsB,CAAC,EAAE;QAClD,MAAM,IAAIsE,KAAK,CAAE,+BAA8BtE,sBAAuB,aAAY+E,WAAY,EAAC,CAAC;MACpG;MACA,MAAM7E,QAAQ,CAACqE,QAAQ,CAACW,IAAI,EAAEjF,QAAQ,CAACE,WAAW,CAACM,MAAM,CAAC0E,SAAS,CAAC,CAAC,CAAC;IAC1E,CAAC,MACI;MACD,QAAQ1E,MAAM,CAACqE,YAAY;QACvB,KAAK,aAAa;UACdvE,QAAQ,CAAC4D,IAAI,GAAG,MAAMI,QAAQ,CAACa,WAAW,EAAE;UAC5C;QACJ,KAAK,MAAM;UACP7E,QAAQ,CAAC4D,IAAI,GAAG,MAAMI,QAAQ,CAACc,IAAI,EAAE;UACrC;QACJ,KAAK,MAAM;UACP9E,QAAQ,CAAC4D,IAAI,GAAG,MAAMI,QAAQ,CAACe,IAAI,EAAE;UACrC;QACJ,KAAK,UAAU;UACX/E,QAAQ,CAAC4D,IAAI,GAAG,MAAMI,QAAQ,CAACgB,QAAQ,EAAE;UACzC;QACJ;UACIhF,QAAQ,CAAC4D,IAAI,GAAG,MAAMI,QAAQ,CAACiB,IAAI,EAAE;UACrC;MAAM;IAElB;EACJ;EACA,OAAOjF,QAAQ;AACnB;AACA;AACA;AACA;AACA,SAAS2D,aAAaA,CAACzD,MAAM,EAAE;EAC3B,MAAMmE,OAAO,GAAG,IAAIC,OAAO,CAACpE,MAAM,CAACmE,OAAO,CAAC;EAC3C;EACA,IAAInE,MAAM,CAACgF,IAAI,EAAE;IACb,MAAMC,QAAQ,GAAGjF,MAAM,CAACgF,IAAI,CAACC,QAAQ,IAAI,EAAE;IAC3C,MAAMC,QAAQ,GAAGlF,MAAM,CAACgF,IAAI,CAACE,QAAQ,GAC/BC,SAAS,CAACtE,kBAAkB,CAACb,MAAM,CAACgF,IAAI,CAACE,QAAQ,CAAC,CAAC,GACnD,EAAE;IACRf,OAAO,CAACiB,GAAG,CAAC,eAAe,EAAG,SAAQC,IAAI,CAAE,GAAEJ,QAAS,IAAGC,QAAS,EAAC,CAAE,EAAC,CAAC;EAC5E;EACA,MAAMI,MAAM,GAAGtF,MAAM,CAACsF,MAAM,CAACC,WAAW,EAAE;EAC1C,MAAMC,OAAO,GAAG;IACZrB,OAAO;IACPmB;EACJ,CAAC;EACD,IAAIA,MAAM,KAAK,KAAK,IAAIA,MAAM,KAAK,MAAM,EAAE;IACvCE,OAAO,CAACf,IAAI,GAAGzE,MAAM,CAAC0D,IAAI;IAC1B;IACA;IACA,IAAIR,UAAU,CAACsC,OAAO,CAACf,IAAI,CAAC,IAAItB,oBAAoB,EAAE,EAAE;MACpDgB,OAAO,CAACsB,MAAM,CAAC,cAAc,CAAC;IAClC;EACJ;EACA,IAAIzF,MAAM,CAAC0F,IAAI,EAAE;IACbF,OAAO,CAACE,IAAI,GAAG1F,MAAM,CAAC0F,IAAI;EAC9B;EACA,IAAI1F,MAAM,CAAC2F,KAAK,EAAE;IACdH,OAAO,CAACG,KAAK,GAAG3F,MAAM,CAAC2F,KAAK;EAChC;EACA,IAAI3F,MAAM,CAAC4F,SAAS,EAAE;IAClBJ,OAAO,CAACI,SAAS,GAAG5F,MAAM,CAAC4F,SAAS;EACxC;EACA,IAAI5F,MAAM,CAAC6F,QAAQ,EAAE;IACjBL,OAAO,CAACK,QAAQ,GAAG7F,MAAM,CAAC6F,QAAQ;EACtC;EACA,IAAI7F,MAAM,CAAC8F,QAAQ,EAAE;IACjBN,OAAO,CAACM,QAAQ,GAAG9F,MAAM,CAAC8F,QAAQ;EACtC;EACA,IAAI9F,MAAM,CAAC+F,OAAO,IAAI/F,MAAM,CAAC+F,OAAO,GAAG,CAAC,EAAE;IACtCP,OAAO,CAACQ,MAAM,GAAGC,WAAW,CAACF,OAAO,CAAC/F,MAAM,CAAC+F,OAAO,CAAC;EACxD;EACA,IAAI/F,MAAM,CAACgG,MAAM,EAAE;IACf;IACAR,OAAO,CAACQ,MAAM,GAAGhG,MAAM,CAACgG,MAAM;EAClC;EACA;EACA;EACA,IAAI,CAACzD,WAAW,CAACvC,MAAM,CAACkG,eAAe,CAAC,EAAE;IACtCV,OAAO,CAACW,WAAW,GAAGnG,MAAM,CAACkG,eAAe,GAAG,SAAS,GAAG,MAAM;EACrE;EACA;EACA,IAAIlG,MAAM,CAACqE,YAAY,KAAK,QAAQ,EAAE;IAClCmB,OAAO,CAACrB,OAAO,CAACiB,GAAG,CAAC,QAAQ,EAAE7F,sBAAsB,CAAC;EACzD;EACA,MAAM6G,QAAQ,GAAG/D,aAAa,CAACrC,MAAM,CAACQ,OAAO,EAAER,MAAM,CAACK,GAAG,CAAC;EAC1D,MAAMA,GAAG,GAAGS,QAAQ,CAACsF,QAAQ,EAAEpG,MAAM,CAACe,MAAM,EAAEf,MAAM,CAACgB,gBAAgB,CAAC;EACtE;EACA,OAAO,IAAIqF,OAAO,CAAChG,GAAG,EAAEmF,OAAO,CAAC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAStF,WAAWA,CAACoG,OAAO,EAAEtG,MAAM,EAAEuG,IAAI,EAAEpG,OAAO,EAAEL,QAAQ,EAAE;EAC3D,IAAIR,KAAK,CAACkH,UAAU,IAAI,OAAOlH,KAAK,CAACkH,UAAU,KAAK,UAAU,EAAE;IAC5D,OAAO,IAAIlH,KAAK,CAACkH,UAAU,CAACF,OAAO,EAAEhH,KAAK,CAACkH,UAAU,CAACD,IAAI,CAAC,EAAEvG,MAAM,EAAEG,OAAO,EAAEL,QAAQ,CAAC;EAC3F;EACA,MAAM2G,KAAK,GAAG,IAAI5C,KAAK,CAACyC,OAAO,CAAC;EAChC,OAAOI,YAAY,CAACD,KAAK,EAAEzG,MAAM,EAAEuG,IAAI,EAAEpG,OAAO,EAAEL,QAAQ,CAAC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS4G,YAAYA,CAACD,KAAK,EAAEzG,MAAM,EAAEuG,IAAI,EAAEpG,OAAO,EAAEL,QAAQ,EAAE;EAC1D2G,KAAK,CAACzG,MAAM,GAAGA,MAAM;EACrB,IAAIuG,IAAI,EAAE;IACNE,KAAK,CAACF,IAAI,GAAGA,IAAI;EACrB;EACAE,KAAK,CAACtG,OAAO,GAAGA,OAAO;EACvBsG,KAAK,CAAC3G,QAAQ,GAAGA,QAAQ;EACzB2G,KAAK,CAACE,YAAY,GAAG,IAAI;EACzBF,KAAK,CAACG,MAAM,GAAG,SAASA,MAAMA,CAAA,EAAG;IAC7B,OAAO;MACH;MACAN,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBO,IAAI,EAAE,IAAI,CAACA,IAAI;MACf;MACAC,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,MAAM,EAAE,IAAI,CAACA,MAAM;MACnB;MACAC,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,YAAY,EAAE,IAAI,CAACA,YAAY;MAC/BC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjB;MACAnH,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBuG,IAAI,EAAE,IAAI,CAACA,IAAI;MACftG,MAAM,EAAE,IAAI,CAACH,QAAQ,IAAI,IAAI,CAACA,QAAQ,CAACG,MAAM,GAAG,IAAI,CAACH,QAAQ,CAACG,MAAM,GAAG;IAC3E,CAAC;EACL,CAAC;EACD,OAAOwG,KAAK;AAChB"},"metadata":{},"sourceType":"module","externalDependencies":[]}